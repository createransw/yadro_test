# Потоковый реордер-буфер

## Составные элементты 
Работа буфера основывается на двух очень простых устройствах хранения

### 1. sequential_memory
    Запоминает 16 значений, а потом возвращает их по запросу в том же порядке.
    Интерфейс - request_write и request_read входы для команд записи и
    чтения, выхов correct_read, показывающий, есть ли в памяти значение, которое
    ещё не было прочитано.
    Внутри хранит 2 адрес: для чтения и для записи.
### 2. address_memory
    Хранит 16 значений по заданным адресам, возвращает значение по адресу.
    Интерфейс - request_write для команды записи. Для чтения никакие команды
    не нужны - всегда даёт значение по выбранному адресу. Проверки корректности
    нет - при обращении к адресу, в который ничего не записано, даёт xxxxxxxx.

## Основной модуль
Логически модуль reorder-buffer состоит из 3 частей:

### 1. чтение порядка идентификаторов
    При получении очередного идентификатора (s_arvalid_i = 1), сохраняет
    его в sequential_memory устройство. При переходе s_arvalid_i в 1 обнуляет
    s_arready_o и ставит 1 после завершения записи. Тогда же устройство
    становится готово к следующему индексу.
### 2. чтение данных и идентификаторов
    По сигналу m_rvalid_i считывает число и его идентификатор. Идентификатор
    рассматривается как адрес, и значение заносится в устройство address_memory.
    m_rready_o поднимается после сохранения ровно на 1 такт, показывая
    готовность.
### 3. вывод данных и идентификаторов в правильном порядке
    У этой части нет своего устройства хранения, она считывает данные из других.
    Устройство получает очередной идентификатор, считанный в первой части сразу,
    как только до него дошло очередь (или как только он стал доступен).
    Значение по этому адресу считывается из памяти с адресом. Как только
    значение становится определённым, поднимается s_rvalid_o. После
    ответа через s_rready_i считывается следующий адрес и снова ожидается новое
    значение. Выходы схемы для данных и индексов подключены к устройствам памяти
    напрямую, а моменты для чтения и использования контроллируюся флагами
    valid и ready.

## Тесты
### 1. sequential_memory_testbench.sv
    Отдельный тестовый модуль для устройства последовательной памяти.
### 2. address_memory_testbench.sv
    Отдельный тестовый модуль для устройства памяти с адресами.
### 3. reorder_buffer_testbench_id.sv
    Тестовый модуль только для функций основного устройства, связанных с чтением
    идентификаторов.
### 4. reorder_buffer_testbench_idf.sv
    Тестовый модуль для особого случая, в котором сначала вводятся все
    идентификаторы в нужном порядке.
### 5. reorder_buffer_testbench_dataf.sv
    Тестовый модуль для особого случая, в котором сначала вводятся все
    данные с их идентификаторами, а потом нужный порядок.
### 6. reorder_buffer_testbench_random.sv
    Тестовый модуль с фрагментом работы устройства на данных в произвольном порядке.
